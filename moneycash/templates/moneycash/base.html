<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Fixed Top Navbar Example for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="/static/moneycash/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="/static/moneycash/bootstrap/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/static/moneycash/bootstrap/css/navbar-fixed-top.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="/static/moneycash/bootstrap/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <script src="/static/moneycash/jquery/jquery-2.2.3.min.js"></script>
    <script src="/static/moneycash/js/monedas.js"></script>
    {% block extra_head %}{% endblock %}
  </head>

  <body>

    {% block navbar %}
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="{% url "moneycash" %}">MoneyCash</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown moneycash_facturacion">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Facturacion<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="{% url "moneycash_factura" %}">Crear Nueva Factura</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Reportes y Estadisticas</li>
                <li><a href="#">Reporte de Consumo por Cliente</a></li>
                <li><a href="#">Reporte de Ventas por Cliente</a></li>
                <li><a href="#">Reporte de Ventas por Categoria</a></li>
              </ul>
            </li>
            <li class="dropdown moneycash_caja">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Caja<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="{% url "moneycash_roc" %}">Recibo de Caja</a></li>
                <li><a href="{% url "facturas_no_impresas" %}">Facturas no Impresas</a></li>
                <li><a href="{% url "depositos" %}">Depositos</a></li>
                <li><a href="{% url "cierre_caja" %}">Cierres de Caja</a></li>
                <li class="dropdown-header">Reportes y Estadisticas</li>
                <li><a href="#">Movimientos de Caja</a></li>
                <li><a href="#">Movimientos de Caja Chica</a></li>
              </ul>
            </li>
            <li class="dropdown moneycash_bodega">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Bodega<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="{% url "moneycash_bodega" %}">Ordenes Pendientes</a></li>
                <li><a href="{% url "moneycash_bodega" %}">Nueva Entrada</a></li>
                <li><a href="{% url "moneycash_bodega" %}">Nueva Salida</a></li>
                <li><a href="{% url "moneycash_bodega" %}">Traslado Entre Bodegas</a></li>
                <li><a href="{% url "moneycash_bodega" %}">Ubicaciones</a></li>
                <li><a href="{% url "moneycash_bodega" %}">Inventario</a></li>
                <li class="dropdown-header">Reportes y Estadisticas</li>
                <li><a href="#">Inventario por Bodega</a></li>
                <li><a href="#">Inventario por Categoria</a></li>
              </ul>
            </li>
            <li class="dropdown moneycash_compras">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Compras<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">Cuentas Por Pagar</a></li>
                <li><a href="#">Compras Locales</a></li>
                <li><a href="#">Liquidacion de Polizas</a></li>
                <li class="dropdown-header">Reportes y Estadisticas</li>
                <li><a href="#">Reporte Cuentas Por Pagar</a></li>
              </ul>
            </li>
            <li class="dropdown moneycash_cartera">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Cartera<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">Cuentas Por Cobrar</a></li>
                <li><a href="#">Notas de Credito</a></li>
                <li><a href="#">Notas de Debito</a></li>
                <li class="dropdown-header">Reportes y Estadisticas</li>
                <li><a href="#">Reporte Cartera</a></li>
              </ul>
            </li>
            <li class="dropdown moneycash_contabilidad">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Contabilidad<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">Catalogo de Cuentas</a></li>
                <li><a href="#">Comprobantes de Diario</a></li>
                <li class="dropdown-header">Reportes y Estadisticas</li>
                <li><a href="#">Estado de Resultado</a></li>
                <li><a href="#">Balance General</a></li>
                <li><a href="#">Balanza de Comprobacion</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            {% block monedas %}
            <input type="hidden" name="tc" value="{{ tc }}" id="tc">
            <select class="moneda-selector" name="monedas">
              <option value="cordobas">C$ Cordobas</option>
              <option value="dolares">U$ Dolares</option>
            </select>
            {% endblock %}
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    {% endblock navbar %}
    <div class="panel panel-info" id="content">
      <div class="panel-heading">
        <h4 class="panel-title"> {% block titulo %}Titulo de la pagina{% endblock titulo %}
          <div class="pull-right">
            {% block options %}
            <a href="#" class="btn btn-info btn-xs pull-right">
              <i class="fa fa-times"></i>
            </a>
            <a href="#" class="btn btn-info btn-xs pull-right">
              <i class="fa fa-edit"></i>
            </a>
            {% endblock options %}
          </div>
        </h4>
        <h3 class="panel-title" ></h3>
      </div>
      <div class="panel-body">
        {% block form %}
                <div class="row">
                  <div class="col-md-4">
                  <style>

                              .bar {
                                  fill: steelblue;
                              }

                              .bar:hover {
                                  fill: brown;
                              }

                              .axis {
                                  font: 10px sans-serif;
                              }

                              .axis path,
                              .axis line {
                                  fill: none;
                                  stroke: #000;
                                  shape-rendering: crispEdges;
                              }

                              .x.axis path {
                                  display: none;
                              }


                          </style>
                    <svg class="chart"></svg>
                    <script src="/static/moneycash/js/d3.v3.min.js"></script>
                    <script>
                        var data = [
                            {% for d in ventas %}
                            { name: '{{d.mes}}', meta: {{d.ventas}} },
                            {% endfor %}
                        ];
                    </script>
                    <script>

                        var margin = {top: 0, right: 0, bottom: 0, left: 0},
                            width = 400, height = 450;

                        var x = d3.scale.ordinal()
                        .rangeRoundBands([0, width], .1)
                        .domain(data.map(function(d) { return d.name; }));

                        var y = d3.scale.linear()
                        .range([height, 0])
                        .domain([0, d3.max(data, function(d) { return d.meta; })]);

                        var xAxis = d3.svg.axis()
                        .scale(x)
                        .orient("bottom");

                        var yAxis = d3.svg.axis()
                        .scale(y)
                        .orient("left");

                        var chart = d3.select(".chart")
                        .attr("width", width + margin.left + margin.right)
                        .attr("height", height + margin.top + margin.bottom)
                        .append("g")
                        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

                        chart.append("g")
                        .attr("class", "x axis")
                        .attr("transform", "translate(0," + height + ")")
                        .call(xAxis);

                        chart.append("g")
                        .attr("class", "y axis")
                        .call(yAxis);

                        chart.selectAll(".bar")
                        .data(data)
                        .enter().append("rect")
                        .attr("class", "bar")
                        .attr("x", function(d) { return x(d.name); })
                        .attr("y", height)
                        .attr("height", 0)
                        .attr("width", x.rangeBand())
                        .transition().duration(1500)
                        .attr("height", function(d) { return height - y(d.meta); })
                        .attr("y", function(d) { return y(d.meta); });

                        chart.selectAll(".bar")
                        .data(data)
                        .enter().append("rect")
                        .attr("class", "bar")
                        .attr("x", function(d) { return x(d.name); })
                        .attr("y", height)
                        .attr("height", 0)
                        .attr("width", x.rangeBand())
                        .transition().duration(1500)
                        .attr("height", function(d) { return height - y(d.venta); })
                        .attr("y", function(d) { return y(d.venta); });

                        function type(d) {
                            d.value = +d.meta; // coerce to number
                            return d;
                        }

                    </script>

                  </div>
                </div>
        {% endblock form %}
      </div>
    </div>


    {% block modales %}
    <div class="modal fade in" id="modal-pdf-preview" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title">PDF</h4>
            </div>
            <div class="modal-body">
                <iframe id="conten-pdf-preview" width="100%" style="height: 400px;"></iframe>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
  </div>
    {% endblock modales %}



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="/static/moneycash/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/moneycash/jquery/moment.min.js"></script>
    <script src="/static/moneycash/bootstrap/js/bootstrap-datepicker.js"></script>
    <script src="/static/moneycash/bootstrap/js/bootstrap-datepicker.es.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="/static/moneycash/bootstrap/js/ie10-viewport-bug-workaround.js"></script>
    {% block script_extra %}{% endblock script_extra %}
  </body>
</html>
